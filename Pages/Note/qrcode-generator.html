<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="åŸºäºé¢å‘å¯¹è±¡è®¾è®¡çš„äºŒç»´ç ç”Ÿæˆå™¨ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ·å¼ã€å›¾æ ‡å’Œæ•°æ®URLç¼–ç ">
    <meta name="author" content="NEGIAO">
    <meta name="theme-color" content="#0D1117">

    <!-- DNS Prefetch & Preconnect -->
    <link rel="preconnect" href="https://cdnjs.loli.net" crossorigin>
    <link rel="dns-prefetch" href="https://www.googletagmanager.com">

    <title>äºŒç»´ç ç”Ÿæˆå™¨ - NEGIAO</title>
    <link rel="icon" type="image/png" href="/images/icon.png">
    <link rel="shortcut icon" type="image/png" href="/images/icon.png">
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
    <link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script defer src="https://cdnjs.loli.net/ajax/libs/marked/9.1.2/marked.min.js"></script>
    <script defer src="../notes-toc.js"></script>
    <script defer src="../main-enhanced.js"></script>

    <style>
        /* Fix for code block alignment - ensure left alignment for ASCII trees */
        .note-content pre, 
        .note-content code {
            text-align: left !important;
        }
        /* New TOC Toggle Button */
        .toc-toggle-btn {
            position: fixed;
            bottom: 90px;
            right: 30px;
            width: 45px;
            height: 45px;
            background: var(--surface-elevated);
            border: 1px solid var(--border);
            border-radius: 50%;
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            box-shadow: var(--shadow-lg);
            transition: all 0.3s ease;
        }

        .toc-toggle-btn:hover {
            background: var(--primary);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0, 217, 255, 0.4);
        }

        /* Hidden state for TOC */
        .note-toc.note-toc--hidden {
            transform: translateY(-50%) translateX(150%);
            opacity: 0;
            pointer-events: none;
        }

        /* Ensure transition matches */
        .note-toc {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
        }

        @media (max-width: 768px) {
            .toc-toggle-btn {
                bottom: 80px;
                right: 20px;
            }

            /* Force fixed positioning on mobile to support toggle behavior */
            .note-toc {
                position: fixed !important;
                top: 50% !important;
                right: 20px !important;
                width: 260px !important;
                max-height: 60vh !important;
                transform: translateY(-50%) !important;
                z-index: 1050 !important;
                order: unset !important;
                box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5) !important;
            }

            /* Hidden state for mobile */
            .note-toc.note-toc--hidden {
                transform: translateY(-50%) translateX(150%) !important;
                opacity: 0 !important;
                pointer-events: none;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar">
        <div class="navbar__container">
            <a href="../../index.html" class="navbar__brand">NEGIAO</a>
            <a href="../notes.html" class="btn btn--secondary">è¿”å›ç´¢å¼•</a>
        </div>
    </nav>

    <main class="container section note-layout">

        <aside class="note-toc card" aria-label="æ–‡ç« ç« èŠ‚ç›®å½•">
            <nav class="note-toc__nav" id="note-toc"></nav>
        </aside>

        <!-- New TOC Toggle Button -->
        <button id="toc-toggle-btn" class="toc-toggle-btn" aria-label="åˆ‡æ¢ç›®å½•æ˜¾ç¤º">
            <i class="fas fa-times"></i>
        </button>

        <article class="note-content card" id="note-content">
            <script type="text/markdown" id="note-markdown">
# ğŸ“± äºŒç»´ç ç”Ÿæˆå™¨

åŸºäºé¢å‘å¯¹è±¡è®¾è®¡çš„äºŒç»´ç ç”Ÿæˆå™¨ï¼Œæ”¯æŒè‡ªå®šä¹‰æ ·å¼ã€å›¾æ ‡å’Œæ•°æ®URLç¼–ç ã€‚

> **[ğŸ‘‰ ç‚¹å‡»è¿™é‡Œç«‹å³åœ¨çº¿ä½¿ç”¨å·¥å…·](https://negiao-qrcode.share.connect.posit.cloud/)**

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# è¿è¡Œåº”ç”¨
streamlit run app.py
```

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šç§å†…å®¹ç±»å‹
- **ç½‘å€**ï¼šäºŒç»´ç ç›´æ¥åŒ…å«URLï¼Œæ‰«æåè®¿é—®
- **æ–‡æœ¬**ï¼šæ•°æ®ç¼–ç åˆ°URLå‚æ•°ï¼Œæ‰«æåè®¿é—® `https://negiao-pages.share.connect.posit.cloud/Others/decoder.html/?å‚æ•°`
- **è”ç³»æ–¹å¼/åç‰‡**ï¼šVCardæ•°æ®ç¼–ç åˆ°URLï¼Œæ‰«æåç½‘é¡µæ˜¾ç¤º
- **æ‰¹é‡ç½‘å€**ï¼šæ‰¹é‡ç”Ÿæˆå¤šä¸ªäºŒç»´ç 

### 2. æ ·å¼è‡ªå®šä¹‰
- 7ç§é¢„è®¾æ ·å¼ï¼šç»å…¸é»‘ç™½ã€å•†åŠ¡è“ã€æ´»åŠ›æ©™ã€è‡ªç„¶ç»¿ã€æµªæ¼«ç²‰ã€ç§‘æŠ€ç´«ã€è‡ªå®šä¹‰
- è‡ªå®šä¹‰å‰æ™¯è‰²å’ŒèƒŒæ™¯è‰²
- å¯è°ƒèŠ‚åƒç´ å—å¤§å°ã€è¾¹æ¡†å®½åº¦
- å¤šç§DPIé€‰é¡¹ï¼š72/150/300/600
- **æ–‡å­—è¯´æ˜**ï¼šæ”¯æŒåœ¨äºŒç»´ç é¡¶éƒ¨å’Œåº•éƒ¨æ·»åŠ è¯´æ˜æ–‡å­—
  - è‡ªå®šä¹‰å­—ä½“å¤§å°ã€é¢œè‰²
  - æ”¯æŒæ–‡å­—åŠ ç²—
  - æ™ºèƒ½å­—ä½“é€‰æ‹©ï¼ˆä¸­è‹±æ–‡ä¼˜åŒ–ï¼‰
  - æ”¯æŒä¸Šä¼ è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶
  - å¯è°ƒèŠ‚æ–‡å­—å‚ç›´è¾¹è·

### 3. é«˜çº§åŠŸèƒ½
- æ·»åŠ ä¸­å¿ƒå›¾æ ‡ï¼ˆé»˜è®¤å›¾æ ‡æˆ–ä¸Šä¼ è‡ªå®šä¹‰ï¼‰
- å››çº§å®¹é”™ï¼šL/M/Q/H
- URLæ•°æ®ç¼–ç 
- æ‰¹é‡ç”Ÿæˆ

## ğŸ¯ å·¥ä½œåŸç†

**æ‰€æœ‰äºŒç»´ç éƒ½ç”ŸæˆURLï¼š**

1. **ç½‘å€ç±»å‹**ï¼š
   ```
   ç”¨æˆ·è¾“å…¥: https://github.com
   äºŒç»´ç å†…å®¹: https://github.com
   ```

2. **æ–‡æœ¬ç±»å‹**ï¼š
   ```
   ç”¨æˆ·è¾“å…¥: Hello World
   äºŒç»´ç å†…å®¹: https://negiao-pages.share.connect.posit.cloud/Others/decoder.html?content=Hello%20World&type=æ–‡æœ¬&...
   ```

3. **è”ç³»æ–¹å¼**ï¼š
   ```
   ç”¨æˆ·è¾“å…¥: å§“åã€ç”µè¯ã€é‚®ç®±ç­‰
   äºŒç»´ç å†…å®¹: https://negiao-pages.share.connect.posit.cloud/Others/decoder.html?vcard={"name":"å¼ ä¸‰",...}&type=åç‰‡&...
   ```

æ‰«æäºŒç»´ç åï¼Œè®¿é—®å¸¦å‚æ•°çš„URLï¼Œéƒ¨ç½²çš„ç½‘é¡µï¼ˆdecoder.htmlï¼‰ä¼šè‡ªåŠ¨è§£æå¹¶å±•ç¤ºå†…å®¹ã€‚

## ğŸ“¦ éƒ¨ç½²

### 1. Streamlit Appï¼ˆç”Ÿæˆå™¨ï¼‰
ä¸Šä¼ åˆ° Posit Connectï¼š
- `app.py`
- `requirements.txt`
- `icon.jpg`ï¼ˆå¯é€‰ï¼‰

### 2. è§£ç ç½‘é¡µï¼ˆdecoder.htmlï¼‰
éƒ¨ç½²åˆ°ä»»ä½•é™æ€ç½‘ç«™æœåŠ¡ï¼š
- éƒ¨ç½²åœ°å€ï¼š`https://negiao-pages.share.connect.posit.cloud/Others/decoder.html`
- **å…¨æ–°UIè®¾è®¡**ï¼š
  - å…¸é›…é«˜çº§çš„è§†è§‰é£æ ¼ï¼ˆæ·±è“ç° + é¦™æ§Ÿé‡‘é…è‰²ï¼‰
  - çº¯æ–‡æœ¬æ¨¡å¼æ”¯æŒå‚ç›´å±…ä¸­å’Œä¿¡çº¸èƒŒæ™¯
  - è‡ªåŠ¨è¯†åˆ«å¹¶è½¬æ¢ç½‘å€é“¾æ¥ï¼ˆLinkifyï¼‰
  - ç§»åŠ¨ç«¯å®Œç¾é€‚é…
  - ä¼˜åŒ–å­—ä½“æ’ç‰ˆï¼ˆè¡¬çº¿ä½“æ ‡é¢˜ + æ¸…æ™°æ­£æ–‡ï¼‰
- ç”¨æˆ·æ‰«æäºŒç»´ç åè‡ªåŠ¨è·³è½¬åˆ°æ­¤URLå¹¶è§£æå‚æ•°

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

```python
# æ ¸å¿ƒç±»
QRCodeConfig     # é…ç½®æ•°æ®ç®¡ç†
QRCodeStyle      # æ ·å¼ç®¡ç†
QRCodeGenerator  # äºŒç»´ç ç”Ÿæˆ
VCardBuilder     # åç‰‡æ„å»º

# å…³é”®æ–¹æ³•
generator.generate_qr_content()  # ç”ŸæˆäºŒç»´ç URLå†…å®¹
```

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ‘¤ ä½œè€…

NEGIAO - [GitHub æºç ](https://github.com/NEGIAO/posit_Connect)
            </script>
        </article>
    </main>

    <!-- Load highlight.js with defer to improve page load performance -->
    <script src="https://cdnjs.loli.net/ajax/libs/highlight.js/11.7.0/highlight.min.js" defer></script>

    <script>
        // Optimized markdown rendering
        document.addEventListener('DOMContentLoaded', function () {
            // Process markdown asynchronously for better performance
            setTimeout(function () {
                const src = document.getElementById('note-markdown');
                if (!src) return;

                // Extract markdown content
                const md = src.textContent || src.innerText || '';

                // Process markdown in chunks for better responsiveness
                processMarkdown(md, function (html) {
                    const container = document.getElementById('note-content');
                    if (!container) return;

                    // Insert the HTML
                    container.innerHTML = html;

                    // Build table of contents
                    if (window.buildNoteTOC) {
                        requestAnimationFrame(function () {
                            window.buildNoteTOC();
                        });
                    }

                    // Apply syntax highlighting
                    if (window.hljs) {
                        // Use requestIdleCallback for non-critical task if available
                        (window.requestIdleCallback || setTimeout)(function () {
                            container.querySelectorAll('pre code').forEach((block) => {
                                hljs.highlightBlock(block);
                            });
                        }, { timeout: 500 });
                    } else {
                        // Wait for highlight.js to load
                        window.onhljsready = function () {
                            container.querySelectorAll('pre code').forEach((block) => {
                                hljs.highlightBlock(block);
                            });
                        };
                    }
                });
            }, 0);
        });

        // Process markdown in chunks for better UI responsiveness
        function processMarkdown(md, callback) {
            // Use requestAnimationFrame to avoid blocking the main thread
            requestAnimationFrame(function () {
                let html;
                try {
                    // Use available markdown parser
                    if (window.marked) {
                        html = window.marked.parse(md);
                    } else if (window.markdownit) {
                        html = window.markdownit().render(md);
                    } else {
                        html = md; // Fallback
                    }
                    callback(html);
                } catch (e) {
                    console.error('Error parsing markdown:', e);
                    callback('<p>Error parsing markdown content.</p>');
                }
            });
        }





        function initTocToggle() {
            const toc = document.querySelector('.note-toc');
            const toggleBtn = document.getElementById('toc-toggle-btn');
            const icon = toggleBtn.querySelector('i');

            // Check localStorage for saved state
            const isHidden = localStorage.getItem('toc-hidden') === 'true';

            // Initial state
            if (isHidden) {
                toc.classList.add('note-toc--hidden');
                icon.classList.remove('fa-times');
                icon.classList.add('fa-list');
            } else {
                icon.classList.remove('fa-list');
                icon.classList.add('fa-times');
            }

            toggleBtn.addEventListener('click', () => {
                toc.classList.toggle('note-toc--hidden');

                // Update icon
                if (toc.classList.contains('note-toc--hidden')) {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-list');
                    localStorage.setItem('toc-hidden', 'true');
                } else {
                    icon.classList.remove('fa-list');
                    icon.classList.add('fa-times');
                    localStorage.setItem('toc-hidden', 'false');
                }
            });
        }

        // Call initialization
        document.addEventListener('DOMContentLoaded', initTocToggle);

        // Set up highlight.js load callback
        if (typeof hljs === 'undefined') {
            window.addEventListener('load', function () {
                if (typeof hljs !== 'undefined' && typeof window.onhljsready === 'function') {
                    window.onhljsready();
                }
            });
        }
    </script>
</body>

</html>